<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>General Options | pgBackRest</title>
    <meta name="description" content="Reliable PostgreSQL Backup &amp; Restore">
    <link rel="icon" href="/pgbackrest-docs/logo.png">
    
    <link rel="preload" href="/pgbackrest-docs/assets/css/0.styles.18edf712.css" as="style"><link rel="preload" href="/pgbackrest-docs/assets/js/app.01ebea85.js" as="script"><link rel="preload" href="/pgbackrest-docs/assets/js/10.972bbafb.js" as="script"><link rel="prefetch" href="/pgbackrest-docs/assets/js/26.e11cc072.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/2.ea010887.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/3.b7507089.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/4.cfc39c6d.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/5.6b11616c.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/6.df92328a.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/7.58324044.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/8.c87957ea.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/9.0fb232f6.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/11.e78eb127.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/12.5928bd53.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/13.1c12197c.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/14.d84f628c.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/15.4adcb884.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/16.ef3b7049.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/17.9d3117d9.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/18.0bcae378.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/19.295fa193.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/20.94847527.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/21.b5e7b8b5.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/22.d07ad4dd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/23.77d36072.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/24.6b6691b4.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/25.f9425e67.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/27.78d9feea.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/28.1f99e16d.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/29.28bb7045.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/30.cff46cbe.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/31.47660e90.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/32.9df22cac.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/33.37935b34.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/34.9706bcdc.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/35.5ec6e936.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/36.996e8c9b.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/37.4718e56d.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/38.b3445822.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/39.c3ad3059.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/40.567d1aff.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/41.d0b20dd8.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/42.663bd5fd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/43.d28dcd20.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/44.2dd273bd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/45.bf622f74.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/46.0d093936.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/47.4a1a0f05.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/48.808678bd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/49.18e9d1eb.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/50.fa7ae22a.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/51.63339b12.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/52.8b737e70.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/53.974f5c76.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/54.9d3ce5c2.js">
    <link rel="stylesheet" href="/pgbackrest-docs/assets/css/0.styles.18edf712.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/pgbackrest-docs/" class="home-link router-link-active"><!----><span class="site-name">
      pgBackRest
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/pgbackrest-docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pgbackrest-docs/releases/" class="nav-link">Releases</a></div><div class="nav-item"><a href="/pgbackrest-docs/config/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/pgbackrest-docs/commands/" class="nav-link router-link-active">Commands</a></div><a href="https://github.com/pgbackrest/pgbackrest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pgbackrest-docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pgbackrest-docs/releases/" class="nav-link">Releases</a></div><div class="nav-item"><a href="/pgbackrest-docs/config/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/pgbackrest-docs/commands/" class="nav-link router-link-active">Commands</a></div><a href="https://github.com/pgbackrest/pgbackrest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Commands</span><!----></p><ul class="sidebar-group-items"><li><a href="/pgbackrest-docs/commands/" class="sidebar-link">Introduction</a></li><li><a href="/pgbackrest-docs/commands/general_options.html" class="active sidebar-link">General Options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#buffer-size" class="sidebar-link">--buffer-size</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#cmd-ssh" class="sidebar-link">--cmd-ssh</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#compress" class="sidebar-link">--compress</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#compress-level" class="sidebar-link">--compress-level</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#compress-level-network" class="sidebar-link">--compress-level-network</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#config" class="sidebar-link">--config</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#config-include-path" class="sidebar-link">--config-include-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#config-path" class="sidebar-link">--config-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#db-timeout" class="sidebar-link">--db-timeout</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#lock-path" class="sidebar-link">--lock-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#neutral-umask" class="sidebar-link">--neutral-umask</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#process-max" class="sidebar-link">--process-max</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#protocol-timeout" class="sidebar-link">--protocol-timeout</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#spool-path" class="sidebar-link">--spool-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/general_options.html#stanza" class="sidebar-link">--stanza</a></li></ul></li><li><a href="/pgbackrest-docs/commands/log_options.html" class="sidebar-link">Log Options</a></li><li><a href="/pgbackrest-docs/commands/repository_options.html" class="sidebar-link">Repository Options</a></li><li><a href="/pgbackrest-docs/commands/stanza_options.html" class="sidebar-link">Stanza Options</a></li><li><a href="/pgbackrest-docs/commands/archive_get.html" class="sidebar-link">archive-get</a></li><li><a href="/pgbackrest-docs/commands/archive_push.html" class="sidebar-link">archive-push</a></li><li><a href="/pgbackrest-docs/commands/backup.html" class="sidebar-link">backup</a></li><li><a href="/pgbackrest-docs/commands/check.html" class="sidebar-link">check</a></li><li><a href="/pgbackrest-docs/commands/expire.html" class="sidebar-link">expire</a></li><li><a href="/pgbackrest-docs/commands/info.html" class="sidebar-link">info</a></li><li><a href="/pgbackrest-docs/commands/restore.html" class="sidebar-link">restore</a></li><li><a href="/pgbackrest-docs/commands/stanza_create.html" class="sidebar-link">stanza-create</a></li><li><a href="/pgbackrest-docs/commands/stanza_delete.html" class="sidebar-link">stanza-delete</a></li><li><a href="/pgbackrest-docs/commands/stanza_upgrade.html" class="sidebar-link">stanza-upgrade</a></li><li><a href="/pgbackrest-docs/commands/start.html" class="sidebar-link">start</a></li><li><a href="/pgbackrest-docs/commands/stop.html" class="sidebar-link">stop</a></li><li><a href="/pgbackrest-docs/commands/help.html" class="sidebar-link">help</a></li><li><a href="/pgbackrest-docs/commands/version.html" class="sidebar-link">version</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="general-options"><a href="#general-options" aria-hidden="true" class="header-anchor">#</a> General Options</h1><h2 id="buffer-size"><a href="#buffer-size" aria-hidden="true" class="header-anchor">#</a> --buffer-size</h2><p>Buffer size for file operations.</p><p>Set the buffer size used for copy, compress, and uncompress functions. A maximum of 3 buffers will be in use at a time per process. An additional maximum of 256K per process may be used for zlib buffers.</p><p>Size can be entered in bytes (default) or KB, MB, GB, TB, or PB where the multiplier is a power of 1024.</p><div class="language- extra-class"><pre class="language-text"><code>default: 4194304
example: --buffer-size=32K
</code></pre></div><h2 id="cmd-ssh"><a href="#cmd-ssh" aria-hidden="true" class="header-anchor">#</a> --cmd-ssh</h2><p>Path to ssh client executable.</p><p>Use a specific SSH client when an alternate is desired or the ssh executable is not in $PATH.</p><div class="language- extra-class"><pre class="language-text"><code>default: ssh
example: --cmd-ssh=/usr/bin/ssh
</code></pre></div><h2 id="compress"><a href="#compress" aria-hidden="true" class="header-anchor">#</a> --compress</h2><p>Use gzip file compression.</p><p>Backup files are compatible with command-line gzip tools.</p><div class="language- extra-class"><pre class="language-text"><code>default: y
example: --no-compress
</code></pre></div><h2 id="compress-level"><a href="#compress-level" aria-hidden="true" class="header-anchor">#</a> --compress-level</h2><p>Compression level for stored files.</p><p>Sets the zlib level to be used for file compression when compress=y.</p><div class="language- extra-class"><pre class="language-text"><code>default: 6
allowed: 0-9
example: --compress-level=9
</code></pre></div><h2 id="compress-level-network"><a href="#compress-level-network" aria-hidden="true" class="header-anchor">#</a> --compress-level-network</h2><p>Compression level for network transfer when <code>compress=n</code>.</p><p>Sets the zlib level to be used for protocol compression when <code>compress=n</code> and the database cluster is not on the same host as the repository. Protocol compression is used to reduce network traffic but can be disabled by setting <code>compress-level-network=0</code>. When compress=y the <code>compress-level-network</code> setting is ignored and <code>compress-level</code> is used instead so that the file is only compressed once. SSH compression is always disabled.</p><div class="language- extra-class"><pre class="language-text"><code>default: 3
allowed: 0-9
example: --compress-level-network=1
</code></pre></div><h2 id="config"><a href="#config" aria-hidden="true" class="header-anchor">#</a> --config</h2><p>pgBackRest configuration file.</p><p>Use this option to specify a different configuration file than the default.</p><div class="language- extra-class"><pre class="language-text"><code>default: /etc/pgbackrest/pgbackrest.conf
example: --config=/conf/pgbackrest/pgbackrest.conf
</code></pre></div><h2 id="config-include-path"><a href="#config-include-path" aria-hidden="true" class="header-anchor">#</a> --config-include-path</h2><p>Path to additional pgBackRest configuration files.</p><p>Configuration files existing in the specified location with extension <code>.conf</code> will be concatenated with the pgBackRest configuration file, resulting in one configuration file.</p><div class="language- extra-class"><pre class="language-text"><code>default: /etc/pgbackrest/conf.d
example: --config-include-path=/conf/pgbackrest/conf.d
</code></pre></div><h2 id="config-path"><a href="#config-path" aria-hidden="true" class="header-anchor">#</a> --config-path</h2><p>Base path of pgBackRest configuration files.</p><p>This setting is used to override the default base path setting for the <code>--config</code> and <code>--config-include-path</code> options unless they are explicitly set on the command-line.</p><p>For example, passing only <code>--config-path=/conf/pgbackrest</code> results in the <code>--config</code> default being set to <code>/conf/pgbackrest/pgbackrest.conf</code> and the <code>--config-include-path</code> default being set to <code>/conf/pgbackrest/conf.d</code>.</p><div class="language- extra-class"><pre class="language-text"><code>default: /etc/pgbackrest
example: --config-path=/conf/pgbackrest
</code></pre></div><h2 id="db-timeout"><a href="#db-timeout" aria-hidden="true" class="header-anchor">#</a> --db-timeout</h2><p>Database query timeout.</p><p>Sets the timeout, in seconds, for queries against the database. This includes the <code>pg_start_backup()</code> and <code>pg_stop_backup()</code> functions which can each take a substantial amount of time. Because of this the timeout should be kept high unless you know that these functions will return quickly (i.e. if you have set <code>startfast=y</code> and you know that the database cluster will not generate many WAL segments during the backup).</p><div class="language- extra-class"><pre class="language-text"><code>default: 1800
allowed: 0.1-604800
example: --db-timeout=600
</code></pre></div><h2 id="lock-path"><a href="#lock-path" aria-hidden="true" class="header-anchor">#</a> --lock-path</h2><p>Path where lock files are stored.</p><p>The lock path provides a location for pgBackRest to create lock files to prevent conflicting operations from being run concurrently.</p><div class="language- extra-class"><pre class="language-text"><code>default: /tmp/pgbackrest
example: --lock-path=/backup/db/lock
</code></pre></div><h2 id="neutral-umask"><a href="#neutral-umask" aria-hidden="true" class="header-anchor">#</a> --neutral-umask</h2><p>Use a neutral umask.</p><p>Sets the umask to <code>0000</code> so modes in the repository are created in a sensible way. The default directory mode is <code>0750</code> and default file mode is <code>0640</code>. The lock and log directories set the directory and file mode to <code>0770</code> and <code>0660</code> respectively.</p><p>To use the executing user's umask instead specify neutral-umask=n in the config file or <code>--no-neutral-umask</code> on the command line.</p><div class="language- extra-class"><pre class="language-text"><code>default: y
example: --no-neutral-umask
</code></pre></div><h2 id="process-max"><a href="#process-max" aria-hidden="true" class="header-anchor">#</a> --process-max</h2><p>Max processes to use for compress/transfer.</p><p>Each process will perform compression and transfer to make the command run faster, but don't set process-max so high that it impacts database performance.</p><div class="language- extra-class"><pre class="language-text"><code>default: 1
allowed: 1-96
example: --process-max=4
</code></pre></div><h2 id="protocol-timeout"><a href="#protocol-timeout" aria-hidden="true" class="header-anchor">#</a> --protocol-timeout</h2><p>Protocol timeout.</p><p>Sets the timeout, in seconds, that the local or remote process will wait for a new message to be received on the protocol layer. This prevents processes from waiting indefinitely for a message. The <code>protocol-timeout</code> option must be greater than the <code>db-timeout</code> option.</p><div class="language- extra-class"><pre class="language-text"><code>default: 1830
allowed: 0.1-604800
example: --protocol-timeout=630
</code></pre></div><h2 id="spool-path"><a href="#spool-path" aria-hidden="true" class="header-anchor">#</a> --spool-path</h2><p>Path where transient data is stored.</p><p>This path is used to store data for the asynchronous <code>archive-push</code> and <code>archive-get</code> command.</p><p>The asynchronous <code>archive-push</code> command writes acknowledgements into the spool path when it has successfully stored WAL in the archive (and errors on failure) so the foreground process can quickly notify PostgreSQL. Acknowledgement files are very small (zero on success and a few hundred bytes on error).</p><p>The asynchronous archive-push process queues WAL in the spool path so it can be provided very quickly when PostgreSQL requests it. Moving files to PostgreSQL is most efficient when the spool path is on the same filesystem as <code>pg_xlog/pg_wal</code>.</p><p>The data stored in the spool path is not strictly temporary since it can and should survive a reboot. However, loss of the data in the spool path is not a problem. pgBackRest will simply recheck each WAL segment to ensure it is safely archived for <code>archive-push</code> and rebuild the queue for <code>archive-get</code>.</p><p>The spool path is intended to be located on a local Posix-compatible filesystem, not a remote filesystem such as NFS or CIFS.</p><div class="language- extra-class"><pre class="language-text"><code>default: /var/spool/pgbackrest
example: --spool-path=/backup/db/spool
</code></pre></div><h2 id="stanza"><a href="#stanza" aria-hidden="true" class="header-anchor">#</a> --stanza</h2><p>Defines the stanza.</p><p>A stanza is the configuration for a PostgreSQL database cluster that defines where it is located, how it will be backed up, archiving options, etc. Most db servers will only have one Postgres database cluster and therefore one stanza, whereas backup servers will have a stanza for every database cluster that needs to be backed up.</p><p>It is tempting to name the stanza after the primary cluster but a better name describes the databases contained in the cluster. Because the stanza name will be used for the primary and all replicas it is more appropriate to choose a name that describes the actual function of the cluster, such as app or dw, rather than the local cluster name, such as main or prod.</p><div class="language- extra-class"><pre class="language-text"><code>example: --stanza=main
</code></pre></div></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/pgbackrest/pgbackrest/edit/master/commands/general_options.md" target="_blank" rel="noopener noreferrer">Edit this page</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/pgbackrest-docs/commands/" class="prev router-link-active">
          Introduction
        </a></span><span class="next"><a href="/pgbackrest-docs/commands/log_options.html">
          Log Options
        </a> →
      </span></p></div></div></div></div>
    <script src="/pgbackrest-docs/assets/js/10.972bbafb.js" defer></script><script src="/pgbackrest-docs/assets/js/app.01ebea85.js" defer></script>
  </body>
</html>

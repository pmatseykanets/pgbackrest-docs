<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Repository Options | pgBackRest</title>
    <meta name="description" content="Reliable PostgreSQL Backup &amp; Restore">
    <link rel="icon" href="/pgbackrest-docs/logo.png">
    
    <link rel="preload" href="/pgbackrest-docs/assets/css/0.styles.18edf712.css" as="style"><link rel="preload" href="/pgbackrest-docs/assets/js/app.01ebea85.js" as="script"><link rel="preload" href="/pgbackrest-docs/assets/js/14.d84f628c.js" as="script"><link rel="prefetch" href="/pgbackrest-docs/assets/js/26.e11cc072.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/2.ea010887.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/3.b7507089.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/4.cfc39c6d.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/5.6b11616c.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/6.df92328a.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/7.58324044.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/8.c87957ea.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/9.0fb232f6.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/10.972bbafb.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/11.e78eb127.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/12.5928bd53.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/13.1c12197c.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/15.4adcb884.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/16.ef3b7049.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/17.9d3117d9.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/18.0bcae378.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/19.295fa193.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/20.94847527.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/21.b5e7b8b5.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/22.d07ad4dd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/23.77d36072.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/24.6b6691b4.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/25.f9425e67.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/27.78d9feea.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/28.1f99e16d.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/29.28bb7045.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/30.cff46cbe.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/31.47660e90.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/32.9df22cac.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/33.37935b34.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/34.9706bcdc.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/35.5ec6e936.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/36.996e8c9b.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/37.4718e56d.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/38.b3445822.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/39.c3ad3059.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/40.567d1aff.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/41.d0b20dd8.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/42.663bd5fd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/43.d28dcd20.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/44.2dd273bd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/45.bf622f74.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/46.0d093936.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/47.4a1a0f05.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/48.808678bd.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/49.18e9d1eb.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/50.fa7ae22a.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/51.63339b12.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/52.8b737e70.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/53.974f5c76.js"><link rel="prefetch" href="/pgbackrest-docs/assets/js/54.9d3ce5c2.js">
    <link rel="stylesheet" href="/pgbackrest-docs/assets/css/0.styles.18edf712.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/pgbackrest-docs/" class="home-link router-link-active"><!----><span class="site-name">
      pgBackRest
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/pgbackrest-docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pgbackrest-docs/releases/" class="nav-link">Releases</a></div><div class="nav-item"><a href="/pgbackrest-docs/config/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/pgbackrest-docs/commands/" class="nav-link router-link-active">Commands</a></div><a href="https://github.com/pgbackrest/pgbackrest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pgbackrest-docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/pgbackrest-docs/releases/" class="nav-link">Releases</a></div><div class="nav-item"><a href="/pgbackrest-docs/config/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/pgbackrest-docs/commands/" class="nav-link router-link-active">Commands</a></div><a href="https://github.com/pgbackrest/pgbackrest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Commands</span><!----></p><ul class="sidebar-group-items"><li><a href="/pgbackrest-docs/commands/" class="sidebar-link">Introduction</a></li><li><a href="/pgbackrest-docs/commands/general_options.html" class="sidebar-link">General Options</a></li><li><a href="/pgbackrest-docs/commands/log_options.html" class="sidebar-link">Log Options</a></li><li><a href="/pgbackrest-docs/commands/repository_options.html" class="active sidebar-link">Repository Options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-cipher-type" class="sidebar-link">--repo-cipher-type</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-host" class="sidebar-link">--repo-host</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-host-cmd" class="sidebar-link">--repo-host-cmd</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-host-config" class="sidebar-link">--repo-host-config</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-host-config-include-path" class="sidebar-link">--repo-host-config-include-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-host-config-path" class="sidebar-link">--repo-host-config-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-host-port" class="sidebar-link">--repo-host-port</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-host-user" class="sidebar-link">--repo-host-user</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-path" class="sidebar-link">--repo-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-s3-bucket" class="sidebar-link">--repo-s3-bucket</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-s3-ca-file" class="sidebar-link">--repo-s3-ca-file</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-s3-ca-path" class="sidebar-link">--repo-s3-ca-path</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-s3-endpoint" class="sidebar-link">--repo-s3-endpoint</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-s3-host" class="sidebar-link">--repo-s3-host</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-s3-region" class="sidebar-link">--repo-s3-region</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-s3-verify-ssl" class="sidebar-link">--repo-s3-verify-ssl</a></li><li class="sidebar-sub-header"><a href="/pgbackrest-docs/commands/repository_options.html#repo-type" class="sidebar-link">--repo-type</a></li></ul></li><li><a href="/pgbackrest-docs/commands/stanza_options.html" class="sidebar-link">Stanza Options</a></li><li><a href="/pgbackrest-docs/commands/archive_get.html" class="sidebar-link">archive-get</a></li><li><a href="/pgbackrest-docs/commands/archive_push.html" class="sidebar-link">archive-push</a></li><li><a href="/pgbackrest-docs/commands/backup.html" class="sidebar-link">backup</a></li><li><a href="/pgbackrest-docs/commands/check.html" class="sidebar-link">check</a></li><li><a href="/pgbackrest-docs/commands/expire.html" class="sidebar-link">expire</a></li><li><a href="/pgbackrest-docs/commands/info.html" class="sidebar-link">info</a></li><li><a href="/pgbackrest-docs/commands/restore.html" class="sidebar-link">restore</a></li><li><a href="/pgbackrest-docs/commands/stanza_create.html" class="sidebar-link">stanza-create</a></li><li><a href="/pgbackrest-docs/commands/stanza_delete.html" class="sidebar-link">stanza-delete</a></li><li><a href="/pgbackrest-docs/commands/stanza_upgrade.html" class="sidebar-link">stanza-upgrade</a></li><li><a href="/pgbackrest-docs/commands/start.html" class="sidebar-link">start</a></li><li><a href="/pgbackrest-docs/commands/stop.html" class="sidebar-link">stop</a></li><li><a href="/pgbackrest-docs/commands/help.html" class="sidebar-link">help</a></li><li><a href="/pgbackrest-docs/commands/version.html" class="sidebar-link">version</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="repository-options"><a href="#repository-options" aria-hidden="true" class="header-anchor">#</a> Repository Options</h1><h2 id="repo-cipher-type"><a href="#repo-cipher-type" aria-hidden="true" class="header-anchor">#</a> --repo-cipher-type</h2><p>Cipher used to encrypt the repository.</p><p>The following repository types are supported:</p><ul><li><code>none</code> - The repository is not encrypted</li><li><code>aes-256-cbc</code> - Advanced Encryption Standard with 256 bit key length</li></ul><div class="language- extra-class"><pre class="language-text"><code>default: none
example: --repo1-cipher-type=aes-256-cbc
</code></pre></div><h2 id="repo-host"><a href="#repo-host" aria-hidden="true" class="header-anchor">#</a> --repo-host</h2><p>Repository host when operating remotely via SSH.</p><p>Make sure that trusted SSH authentication is configured between the PostgreSQL host and the repository host.</p><p>When backing up and archiving to a locally mounted filesystem this setting is not required.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-host=repo1.domain.com
Deprecated Name: backup-host
</code></pre></div><h2 id="repo-host-cmd"><a href="#repo-host-cmd" aria-hidden="true" class="header-anchor">#</a> --repo-host-cmd</h2><p>pgBackRest exe path on the repository host.</p><p>Required only if the path to pgbackrest is different on the local and repository hosts. If not defined, the repository host exe path will be set the same as the local exe path.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-host-cmd=/usr/lib/backrest/bin/pgbackrest
Deprecated Name: backup-cmd
</code></pre></div><h2 id="repo-host-config"><a href="#repo-host-config" aria-hidden="true" class="header-anchor">#</a> --repo-host-config</h2><p>pgBackRest repository host configuration file.</p><p>Sets the location of the configuration file on the repository host. This is only required if the repository host configuration file is in a different location than the local configuration file.</p><div class="language- extra-class"><pre class="language-text"><code>default: /etc/pgbackrest/pgbackrest.conf
example: --repo1-host-config=/conf/pgbackrest/pgbackrest.conf
Deprecated Name: backup-config
</code></pre></div><h2 id="repo-host-config-include-path"><a href="#repo-host-config-include-path" aria-hidden="true" class="header-anchor">#</a> --repo-host-config-include-path</h2><p>pgBackRest repository host configuration include path.</p><p>Sets the location of the configuration include path on the repository host. This is only required if the repository host configuration include path is in a different location than the local configuration include path.</p><div class="language- extra-class"><pre class="language-text"><code>default: /etc/pgbackrest/conf.d
example: --repo1-host-config-include-path=/conf/pgbackrest/conf.d
</code></pre></div><h2 id="repo-host-config-path"><a href="#repo-host-config-path" aria-hidden="true" class="header-anchor">#</a> --repo-host-config-path</h2><p>pgBackRest repository host configuration path.</p><p>Sets the location of the configuration path on the repository host. This is only required if the repository host configuration path is in a different location than the local configuration path.</p><div class="language- extra-class"><pre class="language-text"><code>default: /etc/pgbackrest
example: --repo1-host-config-path=/conf/pgbackrest
</code></pre></div><h2 id="repo-host-port"><a href="#repo-host-port" aria-hidden="true" class="header-anchor">#</a> --repo-host-port</h2><p>Repository host port when repo-host is set.</p><p>Use this option to specify a non-default port for the repository host protocol. Currently only SSH is supported.</p><div class="language- extra-class"><pre class="language-text"><code>allowed: 0-65535
example: --repo1-host-port=25
Deprecated Name: backup-ssh-port
</code></pre></div><h2 id="repo-host-user"><a href="#repo-host-user" aria-hidden="true" class="header-anchor">#</a> --repo-host-user</h2><p>Repository host user when repo-host is set.</p><p>Defines the user that will be used for operations on the repository host. Preferably this is not the postgres user but rather some other user like pgbackrest. If PostgreSQL runs on the repository host the postgres user can be placed in the pgbackrest group so it has read permissions on the repository without being able to damage the contents accidentally.</p><div class="language- extra-class"><pre class="language-text"><code>default: pgbackrest
example: --repo1-host-user=repo-user
Deprecated Name: backup-user
</code></pre></div><h2 id="repo-path"><a href="#repo-path" aria-hidden="true" class="header-anchor">#</a> --repo-path</h2><p>Path where backups and archive are stored.</p><p>The repository is where pgBackRest stores backups and archives WAL segments.</p><p>It may be difficult to estimate in advance how much space you'll need. The best thing to do is take some backups then record the size of different types of backups (full/incr/diff) and measure the amount of WAL generated per day. This will give you a general idea of how much space you'll need, though of course requirements will likely change over time as your database evolves.</p><div class="language- extra-class"><pre class="language-text"><code>default: /var/lib/pgbackrest
example: --repo1-path=/backup/db/backrest
</code></pre></div><h2 id="repo-s3-bucket"><a href="#repo-s3-bucket" aria-hidden="true" class="header-anchor">#</a> --repo-s3-bucket</h2><p>AWS S3 repository bucket.</p><p>AWS S3 bucket used to store the repository.</p><p>pgBackRest repositories can be stored in the bucket root by setting <code>repo-path=/</code> but it is usually best to specify a prefix, such as <code>/repo</code>, so logs and other AWS generated content can also be stored in the bucket.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-s3-bucket=pg-backup
</code></pre></div><h2 id="repo-s3-ca-file"><a href="#repo-s3-ca-file" aria-hidden="true" class="header-anchor">#</a> --repo-s3-ca-file</h2><p>S3 SSL CA File.</p><p>Use a CA file other than the system default.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-s3-ca-file=/etc/pki/tls/certs/ca-bundle.crt
</code></pre></div><h2 id="repo-s3-ca-path"><a href="#repo-s3-ca-path" aria-hidden="true" class="header-anchor">#</a> --repo-s3-ca-path</h2><p>AWS S3 SSL CA Path.</p><p>Use a CA path other than the system default.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-s3-ca-path=/etc/pki/tls/certs
</code></pre></div><h2 id="repo-s3-endpoint"><a href="#repo-s3-endpoint" aria-hidden="true" class="header-anchor">#</a> --repo-s3-endpoint</h2><p>AWS S3 repository endpoint.</p><p>The AWS end point should be valid for the selected region.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-s3-endpoint=s3.amazonaws.com
</code></pre></div><h2 id="repo-s3-host"><a href="#repo-s3-host" aria-hidden="true" class="header-anchor">#</a> --repo-s3-host</h2><p>AWS S3 repository host.</p><p>Connect to a host other than the end point. This is typically used for testing.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-s3-host=127.0.0.1
</code></pre></div><h2 id="repo-s3-region"><a href="#repo-s3-region" aria-hidden="true" class="header-anchor">#</a> --repo-s3-region</h2><p>AWS S3 repository region.</p><p>The AWS region where the bucket was created.</p><div class="language- extra-class"><pre class="language-text"><code>example: --repo1-s3-region=us-east-1
</code></pre></div><h2 id="repo-s3-verify-ssl"><a href="#repo-s3-verify-ssl" aria-hidden="true" class="header-anchor">#</a> --repo-s3-verify-ssl</h2><p>Verify AWS S3 server certificate.</p><p>Disables verification of the S3 server certificate. This should only be used for testing or other scenarios where a certificate has been self-signed.</p><div class="language- extra-class"><pre class="language-text"><code>default: y
example: --no-repo1-s3-verify-ssl
</code></pre></div><h2 id="repo-type"><a href="#repo-type" aria-hidden="true" class="header-anchor">#</a> --repo-type</h2><p>Type of storage used for the repository.</p><p>The following repository types are supported:</p><ul><li><code>cifs</code> - Like posix, but disables links and directory fsyncs</li><li><code>posix</code> - Posix-compliant file systems</li><li><code>s3</code> - AWS Simple Storage Service</li></ul><div class="language- extra-class"><pre class="language-text"><code>default: posix
example: --repo1-type=cifs
</code></pre></div></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/pgbackrest/pgbackrest/edit/master/commands/repository_options.md" target="_blank" rel="noopener noreferrer">Edit this page</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/pgbackrest-docs/commands/log_options.html" class="prev">
          Log Options
        </a></span><span class="next"><a href="/pgbackrest-docs/commands/stanza_options.html">
          Stanza Options
        </a> →
      </span></p></div></div></div></div>
    <script src="/pgbackrest-docs/assets/js/14.d84f628c.js" defer></script><script src="/pgbackrest-docs/assets/js/app.01ebea85.js" defer></script>
  </body>
</html>
